const node_openssl = require('./index.js');
var fs = require('fs');
var openssl = new node_openssl();

var ecckeyoptions = {
	encryption: {
		password: 'test2',
		cipher: 'des3'
	},
	curve: 'prime256v1',
	//rsa_keygen_pubexp: 65537,
	format: 'PKCS8'
}

openssl.getAvailableCurves(function(err, curves, command) {
	//for(let i = 0; i <= curves.length - 1; i++) {
		//console.log(curves[i].curve);
		var ecckeyoptions = {
			encryption: {
				password: 'test test',
				cipher: 'aes256'
			},
			curve: curves[2].curve,
			//rsa_keygen_pubexp: 65537,
			format: 'PKCS8'
		}
		openssl.generateECCPrivateKey(ecckeyoptions, function(err, key, cmd){
			if(err) {
				console.log(err);
			} else {	
				console.log(key);
				console.log(cmd);
			}
		});
	//}
});